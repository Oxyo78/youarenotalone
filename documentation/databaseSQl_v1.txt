-- ---
-- Globals
-- ---

-- SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO";
-- SET FOREIGN_KEY_CHECKS=0;


-- ---
-- Table 'user_interest'
-- Linking table
-- ---

DROP TABLE IF EXISTS `user_interest`;
		
CREATE TABLE `user_interest` (
  `id` INTEGER NULL AUTO_INCREMENT DEFAULT NULL,
  `id_user` INTEGER NULL DEFAULT NULL,
  `id_interest` INTEGER NULL DEFAULT NULL,
  PRIMARY KEY (`id`)
) COMMENT 'Linking table';

-- ---
-- Table 'user_info'
-- Add informations about user
-- ---

DROP TABLE IF EXISTS `user_info`;
		
CREATE TABLE `user_info` (
  `id` INTEGER NULL AUTO_INCREMENT DEFAULT NULL,
  `coordinate_lng` DECIMAL(9,6) NULL DEFAULT NULL,
  `coordinate_lat` DECIMAL(9,6) NULL DEFAULT NULL,
  `picture_path` IMAGE NULL DEFAULT NULL,
  `id_user` INTEGER NULL DEFAULT NULL,
  PRIMARY KEY (`id`)
) COMMENT 'Add informations about user';

-- ---
-- Table 'interest'
-- Interest name list
-- ---

DROP TABLE IF EXISTS `interest`;
		
CREATE TABLE `interest` (
  `id` INTEGER NULL AUTO_INCREMENT DEFAULT NULL,
  `interest_name` VARCHAR(30) NULL DEFAULT NULL,
  PRIMARY KEY (`id`)
) COMMENT 'Interest name list';

-- ---
-- Foreign Keys 
-- ---

ALTER TABLE `user_interest` ADD FOREIGN KEY (id_user) REFERENCES `User` (`id`);
ALTER TABLE `user_interest` ADD FOREIGN KEY (id_interest) REFERENCES `interest` (`id`);
ALTER TABLE `user_info` ADD FOREIGN KEY (id_user) REFERENCES `user` (`id`);

-- ---
-- Table Properties
-- ---

-- ALTER TABLE `user_interest` ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;
-- ALTER TABLE `user_info` ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;
-- ALTER TABLE `interest` ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

-- ---
-- Test Data
-- ---

-- INSERT INTO `User` (`id`,`First_name`,`Last_name`,`email`,`password`,`username`) VALUES
-- ('','Marco','Polo','polo@example.com','password@','Navigator');
-- INSERT INTO `user_info` (`id`,`coordinate_lng`,`coordinate_lat`,`picture_path`,`id_user`) VALUES
-- ('','-123.123456','987.987654','1','');
-- INSERT INTO `interest` (`id`,`interest_name`) VALUES
-- ('','Bateau');
-- INSERT INTO `user_interest` (`id`,`id_user`,`id_interest`) VALUES
-- ('','','');